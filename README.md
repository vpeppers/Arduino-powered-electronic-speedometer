# Arduino-powered-electronic-speedometer
All the files needed to recreate the electronic speedometer I created for my classic car.
THIS IS A WORK-IN-PROGRESS.  IT HAS NOT BEEN TESTED YET!

I built this speedometer for my classic car.  Being 62 years old, the speedometer was dubious at best.  The needle twitched and bounced, and was unreliable in reporting speed.  I decided to replace the inner workings with all electronic ones.  I tried at first to use a Hall effect sensor, but ran into a programming problem that I was never able to figure out.  I then turned to GPS positioning, and the programming turned out to be doable.  The active part of the speedometer is a motor from a modern speedometer.  The odometer and the trip odometer are both OLED displays.  Since the two odometers are separated by the needle shaft, I was required to use two OLED's.  Should you decide to build one yourself, and your speedometer doesn't have the needle shaft between the two odometers, you will be able to use one OLED screen, and just program the one screen to show both amounts.  The heart of the device is an Arduino Nano Every.  This was chosen for its small size, higher clock speed, and multiple Serial ports, so that Software Serial was not needed.  It also can handle the higher voltage of the auto electrical system as a power source.

The location services come from a small UBlox 6 compatible GPS module, with an extended antenna.  This allows all of the elctronics to be installed in a sheet metal box for protection, and buried in the dash.  The antenna is routed out to where it can see the sky constantly.  The GPS runs at 3.3V and the Arduino runs at 5V, so they are connected via a level shifter._

The principle of operation is that the unit is turned off when the ignition is turned off.  The GPS unit takes 27 seconds to find sufficient satellites to provide location services.  To speed this up, startup aiding is used, where The GPS is fed with the current location and time.  This considerably reduces the startup time.  In order to provide the time, a real-time clock is used.

To store the latest location, as well as the odometer readings, a FRAM module provides plenty of storage, as well as plenty of speed.  FRAM is Ferroelectric Ram, a non-volitile memory, that has 4 billion write cycles.  It is considerably faster than an EEPROM.
I have provided all of the files needed to build the speedometer.  I designed the speedometer using the Fritzing software, which provides for pictoral diagrams, a schematic and the design of the PCB.  This is found in the Fritzing folder.  There is also a folder containing the Gerber files used to manufacture the PCB, a folder containing the program, and all of the libraries needed, as well as a bill of materials.

I would like to thank all of the guys on the Arduino forums that provided advice and suggestions.  Special thanks to Jim B, sitech, and emilyjane for their great contributions.
Enjoy the results of all of our hard work.  Feel free to use any or all of the materials I have provided.  Happy Motoring!
